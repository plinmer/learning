


系统三高的定义
高并发：系统能够同时并行处理请求数量，典型指标：qps，响应时间等
垂直扩展 
主要是提升单机性能
水平扩展
集群化方向，模块之间的耦合
高性能：程序处理速度快，所占内存少，cpu占用率低
无锁设计，多线程等
高可用：系统的可用时间
避免单点/集群化设计/完善的故障检测

上面的定义比较抽象，我主要参考了这篇文章【https://km.woa.com/articles/show/562770?kmref=search&from_page=1&no=5 高并发架构设计经验】进行了理解。
这篇文章将服务端划分为
基础设施层 —— 更多的偏硬件部分（机器资源等）
服务端架构层 —— 系统模块划分，集群部署，缓存，消息队列（削峰填谷），数据库等大的模块的优化方案
服务器的应用层 —— 服务本身的高性能开发，多线程，协程等。

这里我们以AMS广告系统架构（印钞机）来举例：

广告请求 ->  nginx -> display -> mixer-> 检索 -> 粗精排 -> 数据库（画图 dog）

系统划分，集群化部署
按照不同流量按照域名进行横向划分，纵向按照 检索，粗排，精排，展示等进行模块划分。
每个部分都是集群化部署的
负载均衡：
对外：nginx反向代理，
模块间：北极星l5管理
数据统计 
请求量级QPS：200w/s，xq: 20w/s
数据库设计：读写分离+分库分表
1、这里是如何设计的，分库分表的时候具体路由是根据什么来支撑的？

消息队列：pulsar
1、为什么选pulsar？选型比较
2、topic，partition等概念，具体流水是怎么到线上的

缓存设计：本地缓存+分布式缓存
1、哪里都用了缓存？

业务隔离：
按照耗时及流量重要程度进行分set部署
服务治理：
北极星支持：
系统限流：
降级：舍弃部分功能/部分流量
熔断：放弃请求下游，配置部分
nginx限流
配置支持
监测看板：
实时监控数据，pageview日志，tracklog日志，诊断平台
服务运维：
发布流水线/发布管理/容器化
服务器应用层部分：
服务dag
多线程
再想想


参考文档：
https://km.woa.com/articles/show/562770?kmref=search&from_page=1&no=5 高并发架构设计经验

